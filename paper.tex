\documentclass[a4paper]{article}
\input{header.tex}
\title{Conditions for $d$-local-connectedness of boundaries of hyperbolic groups}
\author{Benjamin Barrett}

\begin{document}
\maketitle

\section{The Rips complex and the Gromov boundary}\label{sec:approximating}

Let $G$ be a hyperbolic group and let $S$ be a symmetric generating set for $G$.
Let $\delta \geq 0$ be such that the Cayley graph of $G$ with respect to $S$ is 
$\delta$-hyperbolic. Let $\dist(\cdot, \cdot)$ be the natural metric on the
Cayley graph.

Fix an ordering on $S$. Let $S^\star$ be the free monoid on 
$S$; order $S^\star$ by the lex-least ordering: this ordering is defined by 
requiring that shorter words precede longer and that words of equal length are 
ordered lexicographically. Let $D = 10^6\delta + 10^6$.

\begin{definition}
  We denote by $K(G)$ the \emph{Rips complex} of $G$; this is the simplicial
  complex with vertex set $G$ such that a finite set of elements of $G$ spans a
  simplex if and only if that set has diameter at most $D$ with respect to the
  word metric $d$.
\end{definition}

We will sometimes want to refer to distances between points in $K(G)$. The
precise means by which we extend the metric on $G$ to $K(G)$ will not matter
very much, so we make the following simple definition.

\begin{definition}
  For $x$ and $y$ in $K(G)$, choose vertices $x^\star$ and $y^\star$ of the
  minimal simplices containing $x$ and $y$ respectively. Then define
  $\newdist(x,y) = \dist(x^\star, y^\star)$.
\end{definition}

\begin{remark}\label{rem:dist_vs_newdist}
  The extended metric $\newdist$ is not a metric, but this will not cause a
  problem.

  Notice that $\newdist$ agrees with $\dist$ on $G$, and for any $x$ and $y$ in
  $K$, if $x^\star$ and $y^\star$ are \emph{any} vertices of simplices
  containing $x$ and $y$ respectively, then
  \begin{align*}
    \abs{\newdist(x,y) - \dist(x^\star, y^\star)} \leq 2D
  \end{align*}
\end{remark}

We denote by $\gromov{{-}}{{-}}{{-}}$ the Gromov product on $G \union
\boundary G$. Using $\newdist$ we extend the Gromov product to $K$:

\begin{definition}
  Given points $x$, $y$ and $z$ in $K$, define the \emph{Gromov product
  $\gromov{x}{y}{z}$ of $x$, $y$ and $z$} as follows.
  \begin{align*}
    \gromov{x}{y}{z} = \frac{1}{2}\left(\newdist(x,y) + \newdist(x,z) -
          \newdist(y,z)\right)
  \end{align*}
\end{definition}

We now equip $K$ with a topology as follows.

\begin{definition}
  We define a topology on $K \union \boundary G$ by describing a neighbourhood
  basis of each point.
  \begin{enumerate}
    \item For $x \in K$, the neighbourhoods of $x$ are the neighbourhoods of
      $x$ in $K$, treating $K$ with the usual topology of a simplicial complex.
    \item For $\xi \in \boundary G$, the set
      \begin{align*}
        \set{x \in K \union \boundary G \suchthat \gromov{e}{x}{\xi} \geq N}_{N\in\naturals}
      \end{align*}
      is a fundamental system of neighbourhoods for the point $x$.
  \end{enumerate}
\end{definition}

\subsection{An inverse system of complexes}

We now define a sequence of subcomplexes in $K(G)$. We will use the topology of
these complexes to approximate the topology of $\boundary G$. 

\begin{definition}
  For $n \in \naturals$ let $S_n$ be the sphere in $G$ of radius $n$, i.e.\ the 
  set $\set{g \in G \suchthat \dist(e, g) = n}$ of elements of $G$ whose 
  distance from the identity element is $n$. 

  Let $K_n$ be the full subcomplex of the Rips complex $K(G)$ with vertex set
  $S_n$.
\end{definition}

\begin{definition}
  For $n \geq m$ define a map $p^n_m \from S_n \to S_m$ as follows.
  Given an element $g$ of $S_n$ let $w_g \in S^\star$ be the lex-least 
  representative of $g$; note that this word necessarily has length $n$.
  Then define $p^n_m(g)$ to be the element of $G$ given by truncating $w_g$ to a 
  word of length $m$.
\end{definition}

\begin{lemma}\label{lem:psimplicial}
  For $n - m > D + \delta$, the map $p^n_m$ defines a simplicial map from
  $K_n \to K_m$.
\end{lemma}

\begin{proof}
  Let $\set{g_1, \dotsc, g_k}$ span a simplex in $K_n$.
  Then for $g_i$ and $g_j$ in $\set{g_1, \dotsc, g_k}$, $\dist([g_i, g_j], 
  p^n_m(g_i)) \geq n - m - D > \delta$, so $\dist(p^n_m(g_i), [e, g_j]) \leq 
  \delta$.  But $p^n_m(g_j) \in [e, g_j]$ and $\dist(e, p^n_m(g_i)) = 
  \dist(e, p^n_m(g_j))$ so $\dist(p^n_m(g_i), p^n_m(g_j)) \leq 2\delta 
  \leq D$. It follows that the diameter of $\set{p^n_m(g_1), \dotsc, 
  p^n_m(g_k)}$ is at most $D$ and therefore the set spans a simplex in $K_m$.
\end{proof}

Note that $p^m_l \composed p^n_m = p^n_l$ whenever these maps are defined, and 
therefore $(\set{K_n}_n, \{p^n_m\}_{n - m > D + \delta})$ is an inverse system 
of simplicial complexes.

\subsection{Projecting from $\boundary G$}

In order to define projections from $\boundary G$ into our system $(K_n)$, we
first describe a closely related system of simplicial complexes.

\begin{definition}
  For $x \in S_n$ let $U_n(x)$ be the set of limit points in $\boundary G$ of 
  geodesic rays $\gamma$ with $\gamma(0) = e$ and $\dist(\gamma(n), x) \leq 
  2\delta+1$.  
  
  By~\cite{bridsonhaefliger99} $U_n(x)$ is a fundamental system of 
  neighbourhoods in $\boundary G$ of the set of limit points in $\boundary G$ of 
  geodesic rays $\gamma$ with $\gamma(0) = e$ and $\gamma(n) = x$, and therefore 
  $U_n(x)$ contains an open set $V_n(x) \subset \boundary G$ containing this 
  set. Then $\set{V_n(x)}_{x \in S_n}$ is an open cover of $\boundary G$.
  
  Let $L_n$ be the nerve of this cover, so $\Vertices(L_n)$ is naturally 
  identified with a subset of $S_n$.
\end{definition}

\begin{lemma}\label{lem:L_Ksimplicial}
  The inclusion $\Skel_0 L_n \into \Skel_0 K_n^D$ is a simplicial map.
\end{lemma}

\begin{proof}
  Let $g_1, \dotsc, g_k \subset \Vertices(L_n)$ span a simplex in $L_n$, so 
  there exists a point $\xi \in \bigintersection_{i=1}^k V_n(g_i)$.  Let
  $\gamma_1, \dotsc, \gamma_n$ be geodesic rays with $\gamma_i(0) = e$,
  $\gamma_i(\infty) = \xi$ and $\dist(\gamma_i(n), g_i) \leq 2\delta+1$.
  Then $\Diam\set{\gamma_i(n) \suchthat i=1, \dotsc, n} \leq 2\delta$, and it
  follows that
  \begin{align*}
    \Diam\{g_1, \dotsc, g_k\} \leq 6\delta+ 2 \leq D.\qedhere
  \end{align*}
\end{proof}

For each $n$, fix a partition of unity subordinate to the open covering 
\begin{align*}
  \set{V_n(x) \suchthat x \in S_n}
\end{align*} 
of $\boundary G$. This is equivalent to a continuous map $\pi_n \from \boundary
G \to L_n$. Let $p^\infty_n\from\boundary G\to K_n$ be the composition of
$\pi_n$ with the simplicial map $L_n \to K_n$ given by
\cref{lem:L_Ksimplicial}.

\begin{lemma}\label{lem:close_projections}
  Let $\xi \in \boundary G$. Then $\newdist(p^\infty_n(\xi),
  p^\infty_{n+1}(\xi)) \leq 6\delta+3 + 2D$.
\end{lemma}

\begin{proof}
  Choose vertices $x_1$ and $x_2$ respectively to be vertices of minimal
  simplices of $K_n$ and $K_{n+1}$ containing $p^\infty_n(\xi)$ and
  $p^\infty_{n+1}(\xi)$. Then for $i$ equal to $1$ or $2$ there is a geodesic
  ray $\gamma_i$ with $\gamma_i(0) = e$, $\gamma_i(\infty) = \xi$, and so that
  $\dist(\gamma_1(n), x_1) \leq 2\delta+1$ and $\dist(\gamma_2(n+1),
  x_2) \leq 2\delta+1$.

  Then let $y_1 = \gamma_1(n)$ and $y_2 = \gamma_2(n+1)$. We have
  $\dist(y_1, \gamma_2) \leq 2\delta$, so by the triangle inequality
  $\dist(y_1, y_2) \leq 4\delta +1$. It follows that $\dist(x_1, x_2)
  \leq 6\delta+3$, and so the claimed inequality holds by
  \cref{rem:dist_vs_newdist}.
\end{proof}

\begin{lemma}\label{lem:boundary_gromov_product}
  Let $\alpha_1$ and $\alpha_2$ be geodesic rays with $\alpha_1(0) =
  \alpha_2(0) = e$. Then for any $m_1$ and $m_2$,
  \begin{align*}
    \gromov{e}{\alpha_1(m_1)}{\alpha_2(m_2)} \geq 
        \min\{m_1 - 3\delta, m_2 - 3\delta, \gromov{e}{\alpha_1(\infty)}{\alpha_2(\infty)} - 6\delta\}
  \end{align*}
\end{lemma}

\begin{proof}
  By~\cite{bridsonhaefliger99},
  \begin{align*}
    \gromov{e}{\alpha_1(\infty)}{\alpha_2(\infty)} \leq \liminf_{n_1, n_2}
        \gromov{e}{\alpha_1(n_1)}{\alpha_2(n_2)} + 2\delta.
  \end{align*}
  Let $n_1 \geq m_1$ and $n_2 \geq m_2$. 
  
  Let $p_1$ be a point on $[\alpha_1(n_1), \alpha_2(n_2)] \union \alpha_2$
  within a distance $\delta$ of $\alpha_1(m_1)$.  If $p_1$ is on $\alpha_2$
  then
  \begin{align*}
    \dist(\alpha_1(m_1), \alpha_2(m_2)) 
      & \leq \delta + \dist(p_1, \alpha_2(m_2)) \\
      & \leq 2\delta + \abs{m_1 - m_2}
  \end{align*}
  It follows that
  \begin{align*}
    \gromov{e}{\alpha_1(m_1)}{\alpha_2(m_2)} 
      &\geq \frac{1}{2}(m_1 + m_2 - 2\delta - \abs{m_1 - m_2})\\
      &\geq \min\{m_1, m_2\} - \delta
  \end{align*} 
  and the result follows. Otherwise $p_1$ is on $[\alpha_1(n_1),
  \alpha_2(n_2)]$. Similarly either the claimed result holds, or there is a
  point $p_2$ on $[\alpha_1(n_1), \alpha_2(n_2)]$ within a
  distance $\delta$ of $\alpha_1(m_2)$.
  
  If $p_1$ lies between $\alpha_2(n_2)$ and $p_1$ on $[\alpha_1(n_1),
  \alpha_2(n_2)]$ then, by considering the triangle with vertices $p_2$,
  $\alpha_2(m_2)$ and $\alpha_2(n_2)$, we see that $\dist(p_1, \alpha_2) \leq
  2\delta$. Therefore $\dist(\alpha_1(m_1), \alpha_2) \leq 3\delta$, and so
  \begin{align*}
    \gromov{e}{\alpha_1(m_1)}{\alpha_2(m_2)} \geq \min\{m_1, m_2\} - 3\delta
  \end{align*}
  and the result follows.

  Otherwise,
  \begin{align*}
    \dist(\alpha_1(n_1), \alpha_2(n_2)) = \dist(\alpha_1(n_1), p_1) +
        \dist(p_1, p_2) + \dist(p_2, \alpha_2(n_2)).
  \end{align*}
  Therefore,
  \begin{align*}
    \mathrlap{\gromov{e}{\alpha_1(n_1)}{\alpha_n(n_2)} - \gromov{e}{\alpha_1(m_1)}{\alpha_2(m_2)}}
    \quad\quad\phantom{{}={}}&\\
           &\mathllap{{}={}}\left(\dist(\alpha_1(m_1), \alpha_1(n_1)) - \dist(\alpha_1(m_1), p_1)\right) \\
           &+ \left(\dist(\alpha_1(m_1), \alpha_2(m_2)) - \dist(p_1, p_2)\right) \\
           &+ \left(\dist(\alpha_2(m_2), \alpha_2(n_2)) - \dist(p_2, \alpha_2(m_2))\right) \\
           &\mathllap{{}\leq{}} \delta+2\delta+\delta=4\delta 
  \end{align*}
  It follows that
  \begin{align*}
    \gromov{e}{\alpha_1(\infty)}{\alpha_2(\infty)} \leq \gromov{e}{\alpha_1(m_1)}{\alpha_2(m_2)} + 6\delta,
  \end{align*}
  which completes the proof.
\end{proof}

\begin{lemma}\label{lem:projectstoasimplex}
  Let $U$ be a subset of $\boundary G$ with diameter $\rho_0$ with respect to
  the visual metric. Let $n \leq \log_a(k_1/\rho_0)$. Then $p^\infty_n(U)$ is
  contained in a single simplex of $K_n$
\end{lemma}

\begin{proof} 
  Let $\xi_1$ and $\xi_2$ be points in $U$, so $\rho(\xi_1, \xi_2)
  \leq \rho_0$.  For $i$ equal to $1$ or $2$ let $x_i$ be a vertex of the
  minimal simplex of $K_n$ containing $p^\infty_n(\xi_i)$. Let $\alpha_i$ be a
  geodesic ray with $\alpha(0) = e$, $\alpha_i(\infty) = \xi_i$ and
  $\dist(\alpha_i(n), x_i) \leq 2\delta+1$. 
  
  By definition of the visual metric, $\gromov{e}{\xi_1}{\xi_2} \geq
  \log_a(k_1/\rho_0)$. Therefore, by \cref{lem:boundary_gromov_product},
  \begin{align*}
    \gromov{e}{\alpha_1(n)}{\alpha_2(n)} \geq \min\{n - 3\delta, \log_a(k_1/\rho_0) - 6\delta\}.
  \end{align*}
  In particular,
  \begin{align*}
    \dist(\alpha_1(n), \alpha_2(n)) \leq \max\{6\delta, 12\delta - 2(\log(k_1/\rho_0) - n)\}
  \end{align*}
  and the result follows.
\end{proof}

\begin{lemma}
  For $\xi \in \boundary G$ and $n - m \geq D + \delta$ the points $p^n_m
  \composed p^\infty_n (\xi)$ and $p^\infty_m(\xi)$ lie in a common simplex of
  $K_n^D$.
\end{lemma}

\begin{proof}
  By definition, $p^\infty_m(\xi)$ is contained in the simplex spanned by the set
  $\set{g \in S_m \suchthat \xi \in V_m(g)}$ and $p^n_m\composed p^\infty_n(\xi)$ is
  contained in the simplex spanned by $\{p^n_m(g) \suchthat g \in S_n \text{
  and } \xi \in V_n(g)\}$.  We show that the union
  \begin{align*}
    \set{g \in S_m \suchthat \xi \in V_m(g)} \union \{p^n_m(g) \suchthat g \in S_n \text{ and } \xi \in V_n(g)\}
  \end{align*}
  of these sets spans a simplex in $K_n$; this simplex then contains
  $p^\infty_m(\xi)$ and $p^n_m\composed p^\infty_n(\xi)$.  It is sufficient to
  prove that if $\xi \in V_m(g_1) \intersection V_n(g_2)$ for $g_1 \in S_m$ and
  $g_2 \in S_n$ then $\dist(g_1, p^n_m(g_2)) \leq D$.

  For $i = 1$ or $2$ let $\gamma_i$ be a geodesic ray with $\gamma_i(0) = e$ and
  $\gamma_i(\infty) = \xi$ such that $\dist(g_1, \gamma_1(m)) \leq 2\delta
  + 1$ and $\dist(g_2, \gamma_2(n)) \leq 2\delta+1$.  As in
  \cref{lem:psimplicial}, $\dist(p^n_m(g_2), \gamma_2(m)) \leq
  2\delta$, since $n-m \geq 3\delta+1$.  Then $\dist(p^n_m(g_2), g_1) \leq
  2\delta + 2\delta + 2\delta+1 \leq D$.
\end{proof}

\section{Connectivity and double dagger conditions}\label{sec:connectivity}

\subsection{Connectivity conditions}

Recall the following standard definitions of topological connectedness 
properties.

\begin{definition}
  The space $M$ is \emph{$d$-locally-connected} (abbreviated $\LC{d}$) if for any 
  point $p \in M$ and any neighbourhood $U$ of $p$, $U$ contains a 
  subneighbourhood $V$ of $p$ such that any continuous map $S^i \to V$ for $i 
  \leq d$ is homotopic in $U$ to a constant map.

  A topological space $M$ is \emph{$d$-connected} (abbreviated $\C{d}$) if 
  any continuous map $S^i \to M$ for $i \leq d$ is homotopic to a constant map.
\end{definition}

We also define a quantitative version of the condition $\LC{d}$.

\begin{definition}
  A metric space $M$ is \emph{linearly-$d$-locally-connected} (abbreviated 
  $\lLC{d}$) if there exists constants $\lambda$ and $r_0$ such that for any 
  point $p \in M$ and any number $r \in (0,r_0)$, any continuous map $S^i \to 
  \Ball_p(r)$ for $i \leq d$ is homotopic in $\Ball_p(\lambda r)$ to a constant 
  map.
\end{definition}

\subsection{Combinatorial conditions}

In \cref{sec:criterion,sec:dd,sec:assembling} we relate local connectivity
properties, applied to the boundary of a hyperbolic group, to certain
combinatorial properties of spheres in the Rips complex of the group. We now
define these conditions. Let $G$ be a hyperbolic group and let $K_n$ be the
simplicial complex defined in \cref{sec:approximating}.

\begin{definition}
  Let $J$ be a simplicial complex. Let $\gamma \from J \to \boundary G$ be 
  continuous and let $f\from J \to K_n$ be affine. We call the triple $(J, 
  \gamma, f)_n$ a \emph{factored triple} or a \emph{factoring of $f$} if $f$ is 
  affine homotopic to $p^\infty_n\composed\gamma$. In this case we say that $f$ 
  \emph{admits a factoring}.
\end{definition}

\begin{definition}
  Let $d\geq -1$. We say that $X$ satisfies $\dd{d}$ if, for any $k$, there
  exist $n_0$ and $k'$ with the following property. Let $n\geq n_0$ and let
  $(\sd^k\boundary\Delta^{d+1}, \gamma, f)_n$ be a factored triple. If $d = 0$
  then further assume that the diameter of the image of $f$ is at most $k$.
  Then $f$ admits an affine extension to $\sd^{k'}\Delta^{d+1}$.
\end{definition}

We also introduce the following a priori stronger condition.

\begin{definition}
  Let $d\geq -1$. We say that $X$ satisfies $\Sd{d}$ if, for any $k$, there
  exist $n_0$ and $k'$ with the following property. Let $n\geq n_0$ and let
  $(\sd^k\boundary\Delta^{d+1}, \gamma, f)_n$ be a factored triple. If $d = 0$
  then further assume that the diameter of the image of $f$ is at most $k$.
  Then $\gamma$ admits a continuous extension $\gamma'$ to $\Delta^{d+1}$ and
  $f$ admits an affine extension $f'$ to $\sd^{k'}\Delta^{d+1}$ such that
  $(\sd^{k'}\Delta^{d+1}, \gamma', f')$ is a factored triple.
\end{definition}

\begin{remark}
  The base cases $\dd{-1}$ and $\Sd{-1}$ are each equivalent to the statement
  that $G$ is infinite.
\end{remark}

\begin{remark}
  The condition $\dd{0}$ is related to the double dagger condition of 
  Bestvina and Mess~\cite{bestvinamess91}. This is the reason for the choice 
  of notation.
\end{remark}

\subsection{Extending maps between simplicial complexes}

The conditions $\dd{-1}$ and $\Sd{-1}$ allow us to extend certain maps from
subcomplexes of simplicial complexes into $K_n$ in a controlled way. We now
prove a lemma to this effect.

\begin{lemma}\label{lem:extendingaffinemaps1}
  Suppose that $G$ satisfies $\Sd{d}$. Let $k \geq 0$. Then there exist numbers
  $k'$ and $n_0$ with the following property. Let $n \geq n_0$, let $J$ be a
  simplicial complex, let $J'$ be a subcomplex of $J$ containing all vertices
  of $J$ and all simplices of $J$ with dimension greater than $d+1$ and let $f$
  be a map $J' \to K_n$ satisfying the following conditions.
  \begin{enumerate}
    \item The map $f$ admits a factoring.
    \item The map $f$ is affine on the subdivision $\sd^k J'$.
    \item For any vertices $x$ and $y$ of $J'$ that are adjacent in $J$,
      $\dist(f(x), f(y)) \leq k$.
  \end{enumerate}
  Then $f$ admits an extension to $J$ that is affine on the subdivision
  $\sd^{k'} J$ and that admits a factoring.
\end{lemma}

\begin{proof}
  We prove the statement by induction on the maximal dimension of a simplex of
  $J$ that is not contained in $J'$. Let this dimension be $d'$, so $1 \leq d'
  \leq d+1$.

  By the inductive hypothesis there exist $k'$ and $n_0$ such that if $n \geq
  n_0$ and $f\from J' \to K_n$ is a map satisfying the conditions of the lemma
  then $f$ admits an extension $f'$ to $J' \union \Skel^{d'-1} J$ such that $f'$
  admits a factoring and is affine on the subdivision $\sd^{k'} (J' \union
  \Skel^{d'-1} J)$.

  The condition $\Sd{d}$ tells us that there exists $n_0' \geq n_0$ and $k''$
  such that for all $n \geq n_0'$ and any affine map $g \from
  \sd^{k'}\boundary\Delta^{d'}\to K_n$ that admits a factoring, $g$ admits an
  affine extension to $\sd^{k''}\Delta^{d+1}$ that extends the factoring.
  For each $d$-simplex $\sigma$ of $J$ not contained in $J'$, apply this fact
  to the map $f'\restricted{\boundary\sigma}$ to extend $f'$ to a map $f''\from
  J\to K_n$ that admits a factoring and is affine on $\sd^{k''} J$.
\end{proof}

If we weaken the conclusion of \cref{lem:extendingaffinemaps1} by no
longer insisting that the extension admit a factoring, then we can weaken the
assumptions to obtain the following proposition.

\begin{proposition}\label{prop:extendingaffinemaps2}
  Suppose that $G$ satisfies $\Sd{d-1}$ and $\dd{d}$. Let $k \geq 0$. Then
  there exist numbers $k'$ and $n_0$ with the following property. Let $n \geq
  n_0$, let $J$ be a simplicial complex, let $J'$ be a subcomplex of $J$
  containing all vertices of $J$ and all simplices of $J$ with dimension
  greater than $d+1$ and let $f$ be a map $J' \to K_n$ satisfying the following
  conditions.
  \begin{enumerate}
    \item The map $f$ admits a factoring.
    \item The map $f$ is affine on the subdivision $\sd^k J'$.
    \item For any vertices $x$ and $y$ of $J'$ that are adjacent in $J$,
      $\dist(f(x), f(y)) \leq k$.
  \end{enumerate}
  Then $f$ admits an extension to $J$ that is affine on the subdivision
  $\sd^{k'} J$. Furthermore $f\restricted{J' \union \Skel{d} J}$ admits a
  factoring.
\end{proposition}

\begin{proof}
  Apply \cref{lem:extendingaffinemaps1} until the final inductive step, which
  can be proved exactly analogously to the proof of the inductive step in
  \cref{lem:extendingaffinemaps1}.
\end{proof}

\section{A criterion for $d$-local-connectedness}\label{sec:criterion}

The goal in this section is to prove the following theorem.

\begin{restatable}{theorem}{ddagimpliesLCd}
  \label{thm:ddagimpliesLCd}
  Suppose that $G$ satisfies the conditions $\Sd{d-1}$ and $\dd{d}$. Then 
  $\boundary G$ is $\lLC{d}$.
\end{restatable}

\subsection{Constructing maps to $\boundary G$}

We will make frequent use of the following lemma, adapted 
from~\cite{bestvinamess91}

\begin{lemma}\cite{bestvinamess91}\label{lem:near_geod_rays}
  Let $G$ be infinite. For any $x \in X$ there exists a geodesic ray $\alpha$ 
  with $\alpha(0) = e$ and $\dist(x,\alpha) \leq 2\delta$. 
  
  Furthermore, $\dist(x, \alpha(\dist(e,x))) \leq 4\delta$.
\end{lemma}

\begin{proof}
  For the first claim, see~\cite{bestvinamess91}. For the second, let $p$ be a 
  point on $\alpha$ such that $\dist(x, p) \leq 2\delta$. Then the triangle 
  inequality shows that $\abs{\dist(e,p), \dist(e,x)} \leq 2\delta$, and 
  so $\dist(p, \alpha(\dist(e,x))) \leq 2\delta$. Then the result 
  follows from another application of the triangle inequality.
\end{proof}

We begin the proof of \cref{thm:ddagimpliesLCd} by proving the following 
proposition.

\begin{proposition}\label{prop:ddag_implies_i}
  Let $d \geq -1$. Suppose that $G$ satisfies the conditions $\Sd{d-1}$ and
  $\dd{d}$. Then there are constants $n_0$, $k$ and $\epsilon$ such that for
  each $n\geq n_0$ there is map $i^n_{n+1}\from\Skel_{d+1} K_n \to \Skel_{d+1}
  K_{n+1}$ such that the following conditions hold.
  \begin{enumerate}
    \item For any $x \in \Vertices(K_n)$, $\dist(x, i_{n+1}^n(x)) \leq
      \epsilon$.
    \item The map $i^n_{n+1}$ is affine on the subdivision $\sd^k\Skel_{d+1}
      K_n$ of $\Skel_{d+1}K_n$.
    \item The map $i^n_{n+1}\restricted{\Skel_d K_n}$ admits a factoring.
  \end{enumerate}
\end{proposition}

\begin{proof}
  The condition $\dd{-1}$ implies the infinitude of $G$, so
  \cref{lem:near_geod_rays} is applicable. For $x \in \Vertices{K_n}$ choose an
  infinite geodesic ray $\alpha_x$ such that $\alpha(0) = 1$ and
  $\dist(\alpha(n), x) \leq 4\delta$. Define $i^n_{n+1}(x) =
  \alpha_x(n+1)$. Then $i^n_{n+1}$ satisfies the first requirement with
  $\epsilon = 4\delta+2$ and satisfies the second requirement automatically.

  Furthermore, $\alpha_x(\infty) \in V_{n+1}(\alpha_x(n+1))$, so 
  $p^\infty_{n+1}(\alpha_x(\infty))$ lies in a simplex of $K_{n+1}$ that also 
  contains $\alpha_x(n+1)$.  Therefore the map $i^n_{n+1}$ and a simplicial 
  approximation to the map $x \mapsto \alpha_x(\infty) \mapsto p^\infty_{n+1} 
  (\alpha_x(\infty))$ are related by an affine homotopy, so $i^n_{n+1}$ admits a 
  factoring. 

  Now apply \cref{prop:extendingaffinemaps2} to extend $i^n_{n+1}$ from
  $\Vertices(K_n)$ to $\Skel_{d+1} K_n$ to obtain a map with the required
  properties.
\end{proof}

Throughout the remainder of this section we assume that $G$ satisfies $\dd{d-1}$ 
and $\Sd{d}$. Let $n_0$, $k$ and $\epsilon$ be the constants given in 
\cref{prop:ddag_implies_i}, and for $n\geq n_0$ let $i^n_{n+1} 
\from \sd^k\Skel_{d+1} K_n \to \Skel_{d+1} K_{n+1}$ be the affine map given by 
that proposition.  For $n \geq m \geq n_0$ let $i^m_n$ be the composition 
$i^{n-1}_n \composed \dotsb \composed i^m_{m+1} \from \Skel_{d+1} K_m \to 
\Skel_{d+1} K_n$.  This map is affine on a degree $k^{n-m}$ subdivision of 
$\Skel_{d+1} K_m$.

In what follows we require the following useful lemma.

\begin{lemma}\label{lem:useful}
  Let $(x_n)$ be a sequence of points in $G$ with $\dist(x_{n+1}, e) = 
  \dist(x_n, e) + 1$ and $\dist(x_{n+1}, x_n)$ bounded. Then,
  \begin{align*}
    \gromov{e}{x_m}{x_n} \geq \dist(e,x_m) - C
  \end{align*}
  for some constant $C$ depending only on $\delta$ and the bound on 
  $\dist(x_{n+1}, x_n)$.
\end{lemma}

\begin{proof}
  We estimate the Gromov product using the visual metric $\vdistance$ on 
  $\boundary G$; then the claimed inequality follows from the triangle 
  inequality. 
  
  Let $i_n = \dist(x_n, e)$, so $i_n = i_0 + n$, and let 
  $\dist(x_{n+1},x_n)$ be bounded by $C_0$. By 
  \cref{lem:near_geod_rays} there exists a sequence $(\alpha_n)$ of 
  geodesic rays with $\dist(\alpha_n(i_n), x_n) \leq 4\delta$. Then 
  $\dist(\alpha_n(i_n), \alpha_{n+1}(i_{n+1})) \leq C_0 + 8\delta$. Then 
  $\gromov{e}{\alpha_n(\infty)}{ \alpha_{n+1}(\infty)} \geq i_n - (C_0 + 
  8\delta)/2$.

  By the triangle inequality it follows that for $n\geq m$ we have the following 
  inequality.
  \begin{align*}
    \vdistance(\alpha_n(\infty), \alpha_m(\infty)) \leq C_1 a^{-i_m}
  \end{align*}
  for some constants $C_1$ depending only on $\delta$ and $C_0$. Then, by
  definition of the visual metric, there exists a constant $C_2$ such that
  \begin{align*}
    \gromov{e}{\alpha_n(\infty)}{\alpha_m(\infty)} \geq i_m - C_2.
  \end{align*}

  Now, by \cref{lem:boundary_gromov_product} there exists a constant $C_3$ such
  that
  \begin{align*}
    \gromov{e}{\alpha_n(i_n)}{\alpha_m(i_m)} \geq i_m - C_3,\qedhere
  \end{align*}
  as required.
\end{proof}

\begin{lemma}\label{lem:linearproduct}
  There is a constant $C$ such that if $x \in \Skel_{d+1} K_m$ then
  \begin{align*}
    \gromov{e}{i^m_n(x)}{x} \geq m - C
  \end{align*}
  for all $n\geq m\geq n_0$.
\end{lemma}

\begin{proof}
  For $n \geq m$, let $y_n$ be a vertex of the minimal simplex of $K_n$
  containing $i^m_n(x)$. Then, for each $n \geq m$, we have $\dist(e, y_{n+1})
  = \dist(e, y_n)$. 

  We now bound the distance $\dist(y_n, y_{n+1}$. To start with, $\dist(y_n,
  i^n_{n+1} y_n) \leq \epsilon$. Let $R$ be such that any two vertices in the
  1-skeleton of $\sd^k \Delta^{d+1}$ are joined by a path traversing at most
  $R$ edges. Let $\sigma$ be the minimal simplex of $K_n$ containing
  $i^m_n(x)$. Then $y_n$ is a vertex of $\sigma$ and $y_{n+1}$ is a vertex of
  the image of $\sigma$ under $i^n_{n+1}$, so $\dist(i^n_{n+1} y_n, y_{n+1})
  \leq RD$.  Putting this together,
  \begin{align*}
      \dist(y_n, y_{n+1}) \leq \epsilon + RD
  \end{align*}

  It follows from \cref{lem:useful} that there exists a constant $C$ depending
  only on $\delta$, $\epsilon$ and $k$ such that $\gromov{e}{y_n}{y_m} \geq m -
  C$.

  Finally, by applying the inequality in \cref{rem:dist_vs_newdist}, we deduce
  that
  \begin{align*}
      \gromov{e}{i^m_n(x)}{x} \geq m - C - 3D.\qedhere
  \end{align*}
\end{proof}

\begin{corollary}
  For $m \geq n_0$ and $x \in \Skel_{d+1} K_m$, the sequence
  $(i^m_n(x))_{n\geq m}$ converges to a point in $\boundary G$, which we shall
  denote $i^m_\infty(x)$.
\end{corollary}

\begin{proof}
  For $n_1$ and $n_2$ at least $m$, \cref{lem:linearproduct} implies that
  $\gromov{e}{i^m_{n_1}(x)}{i^m_{n_2}(x)} \geq \min\{n_1,n_2\} - C$, which
  tends to infinity as $n_1$ and $n_2$ tend to infinity.
\end{proof}

\begin{lemma}\label{lem:simplexproduct}
  There is a constant $C$ such that if $m \geq n_0$ and $x$ and $y$ are in a
  common simplex of $\Skel_{d+1} K_m$ then
  \begin{align*}
    \gromov{e}{i^m_n(x)}{i^m_n(y)} \geq m - C
  \end{align*}
  for all $n\geq m$.
\end{lemma}

\begin{proof}
  The inequality of \cref{lem:linearproduct} is satisfied for each of $x$ 
  and $y$. By~\cite{bridsonhaefliger99} there exist $\delta'$ depending only on 
  $\delta$ such that
  \begin{align*}
    \gromov{e}{i^m_n(x)}{i^m_n(y)} &\geq \min\{\gromov{e}{i^m_n(x)}{x}, 
    \gromov{e}{x}{y}, \gromov{e}{y}{i^m_n(y)}\} - 2\delta'\\
    &\geq \min\{m - C, m - R/2, m - C\} - 2\delta' \\
    &\geq m - C'
  \end{align*}
  for some constant $C'$.
\end{proof}

The following corollary immediately follows from \cref{lem:simplexproduct}.

\begin{corollary}\label{cor:visualdiameter}
  There is a constant $C$ such that for any $m\geq n_0$ and any simplex
  $\sigma$ of $\Skel_{d+1} K_m$, the diameter of $i^m_{\infty}(\sigma)$ with
  respect to the visual metric $\vdistance$ is bounded above by $Ca^{-m}$,
  where $a$ is the visual parameter.
\end{corollary}

\begin{proposition}\label{prop:continuouslimit}
  The map $i^m_\infty\from \Skel_{d+1} K_m \to \boundary G$ is continuous.
\end{proposition}

\begin{proof}
  Fix $x \in \Skel_{d+1} K_m$. Let $k$ be the constant given in the definition 
  of the map $i$. For $n\geq 0$ let $U_n$ be the star in $\beta^{nk} 
  \Skel_{d+1}K_m$ of the minimal simplex of $\beta^{nk}\Skel_{d+1}K_m$ 
  containing $x$. Then $U_n$ is a neighbourhood of $x$ for each $n$. 

  For each $n$, the restriction of $i^m_{m+n}$ to a simplex in 
  $\beta^{nk}\Skel_{d+1}K_m$ is affine, and therefore has image contained in a 
  simplex of $\Skel_{d+1} K_{m+n}$. The point $x$ is contained in every simplex 
  of $U_n$, so for any $y \in U_n$ the points $i^m_{m+n}(x)$ and $i^m_{m+n}(y)$ 
  are contained in a common simplex of $\Skel_{d+1}K_m$. Therefore, by 
  \cref{cor:visualdiameter}, there is a constant $C$ such that 
  $\vdistance(i^m_\infty(x), i^m_\infty(y)) \leq Ca^{-(m+n)}$ for every $y \in 
  U_n$.
\end{proof}

\begin{remark}
  In fact, if $K_m$ is endowed with a metric in which each simplex is 
  isometrically identified with the standard simplex of the same dimension then 
  the map $i^m_\infty$ can be shown to be H\"{o}lder continuous with exponent 
  only depending on $\delta$ and the constants in the definition of the map $i$. 
  We do not require this strengthening of \cref{prop:continuouslimit} 
  here.
\end{remark}

Finally, we use the maps $i^n_\infty$ to construct homotopies between certain
special maps to $\boundary G$.

\begin{proposition}\label{prop:basic_homotopies}
  Let $C$ be a constant. Then there exists a number $m_0$ and a function $\mu
  \from \posreals\to\posreals$ such that $\mu(\eta)\to0$ as $\eta\to0$ with the following
  property. Let $n \geq m_0$ and let $f_0$ and $f_1$ be any maps from
  $\boundary\Delta^{d+1}$ to $K_n$ satisfying the following conditions:
  \begin{enumerate}
    \item the maps $f_0$ and $f_1$ are affine on some subdivision of
      $\boundary\Delta^{d+1}$;
    \item for any $x \in \boundary\Delta^{d+1}$, the distance 
      $\newdist(f_0(x), f_1(x))$ is at most $C$;
    \item each of $f_0$ and $f_1$ admits a factoring.
  \end{enumerate}
  Then there is a homotopy $h$ from $i^n_\infty\composed f_0$ to
  $i^n_\infty\composed f_1$ satisfying a uniform continuity condition: for any
  $x \in \boundary\Delta^{d+1}$ and any $s$ and $t$ in $[0,1]$,
  \begin{align*}
    \rho(h(x,s), h(x,t)) \leq \mu(\abs{s-t})a^{-n}.
  \end{align*}
\end{proposition}

\begin{proof}
  To start with, apply \cref{prop:extendingaffinemaps2} with $k = C + D$ to
  obtain constants $k'$ and $m_0\geq n_0$ such that the conclusion of the
  proposition holds. 

  Let $n \geq m_0$.  Let $J$ be a subdivision of $\boundary\Delta^{d+1}$ such
  that $f_0$ and $f_1$ are both affine on $J$. Then the map 
  \begin{align*}
    f_0 \disjointunion f_1 \from J \times \{0\} \disjointunion J \times \{1\}
          \to K_n,
  \end{align*}
  defined on a subset of the product simplicial complex $J \times [0,1]$,
  satisfies the conditions of \cref{prop:extendingaffinemaps2}, and so admits
  an affine extension $F \from \sd^{k'} (J \times [0,1]) \to K_n$. Let $h =
  i^n_\infty \composed F$, so $h$ is a homotopy from $i^n_\infty\composed f_0$
  to $i^n_\infty\composed f_1$ and it remains to prove the uniform continuity
  assertion.

  Let $\eta_0$ be such that for $\eta$ at most $\eta_0$, 
  for any $x \in \Delta^d$, for any $s$ and $t$ in $[0,1]$ with
  $\abs{s-t} \leq \eta$, the segment $\{x\} \times [s,t]$ is contained in a
  union of at most two $(d+1)$-simplices of $\sd^{k'}(\Delta^d \times [0,1])$.
  We first define the modulus of continuity $\mu(\eta)$ for $\eta > \eta_0$.

  Let $M$ be the number of $(d+1)$-simplices in $\sd^{k'}(\Delta^d \times
  [0,1])$.  \Cref{cor:visualdiameter} gives a constant $C_0$ such that any
  $(d+1)$-simplex of $K_n$ is mapped to a subset of $\boundary G$ of diameter
  at most $C_0 a^{-n}$, and so we can take $\mu(\eta) = C_0M$ for $\eta >
  \eta_0$.

  Now, for $\eta \leq \eta_0$, there exists a maximal number $\kappa(\eta) \geq
  0$ such that for any $x \in \Delta^d$ and any $s$ and $t$ in $[0,1]$ with
  $\abs{s-t} \leq \eta$, the segment $\{x\} \times [s,t]$ is contained in a
  union of at most two $(d+1)$-simplices of
  $\sd^{\kappa(\eta)}\sd^{k'}(\Delta^d\times[0,1])$. Note that $\kappa(\eta)
  \to \infty$ as $\eta \to 0$. Now, if $N\in\naturals$ then a $(d+1)$-simplex of
  $\sd^{k^N}K_n$ is mapped by $i^n_{n+N}$ into a $(d+1)$-simplex of $K_{n+N}$,
  which is mapped by $i^{n+N}_\infty$ to a set of diameter at most
  $C_0a^{-n+N}$. Therefore, if $N$ is such that $\kappa(\eta) \geq k^N$ then
  for $x \in \boundary\Delta^{d+1}$ and $\abs{s-t} < \eta$, $\rho(h(x,s),
  h(x,t)) \leq 2C_0a^{-n-N}$. It follows that we may take $\mu(\eta)$ as follows:
  \begin{align*}
    \mu(\eta) = 2C_0 a^{-\floor*{\frac{\log\kappa(\eta)}{\log k}}}.\qedhere
  \end{align*}
\end{proof}

\subsection{Proving \Cref{thm:ddagimpliesLCd}}

We now use the maps $(i^n_{n+1})$ to prove \cref{thm:ddagimpliesLCd}. We begin
with two lemmas.

\begin{lemma}\label{lem:convergestoidentity}
  There is a constant $C$ such that the distance from $(i^m_\infty \composed 
  p^\infty_m)$ to the identity map $\boundary G\to\boundary G$ is at most 
  $Ca^{-m}$ for each $m$, where $a$ is the visual parameter.
\end{lemma}

\begin{proof}
  Let $\xi \in \boundary G$. By \cref{lem:linearproduct} there is a 
  constant $C$ such that 
  \begin{align*}
    \gromov{e}{i^m_n\composed p^\infty_m(\xi)}{p^\infty_m(\xi)} \geq m - C
  \end{align*} 
  for each $n\geq m\geq n_0$. 

  Let $\alpha$ be a geodesic ray with $\alpha(0) = e$ and $\alpha(\infty) = 
  \xi$. Then $\alpha(m)$ is a vertex of a simplex in $\Skel_{d+1}K_m$ containing 
  $p^\infty_m(\xi)$, and $\gromov{e}{\alpha(m)}{\alpha(n)} = m$ for $n\geq m$.
  It follows that there is a constant $\delta'$ depending only on $\delta$ such 
  that
  \begin{align*}
    \mathrlap{\gromov{e}{\alpha(n)}{i^m_n\composed p^\infty_m(\xi)}}\quad\quad &\\
          & \geq \min\{\gromov{e}{\alpha(n)}{\alpha(m)}, 
            \gromov{e}{\alpha(m)}{p^\infty_m(\xi)}, 
            \gromov{e}{p^\infty_m(\xi)}{i^m_n\composed p^\infty_m(\xi)}\} 
            - 2\delta' \\
          &\geq \min\{m - C, m - R/2, m\} - 2\delta' \\
          &\geq m - C'
  \end{align*}
  for some constant $C'$.

  Therefore $\gromov{e}{\xi}{i^m_\infty\composed p^\infty_m(\xi)} \geq m - C'$, 
  from which the claim follows.
\end{proof}

\begin{lemma}\label{lem:name_this}
  There is a number $C$ such that, for any $\xi \in \boundary G$ and any $n
  \geq 0$ and any vertices $x_1$ and $x_2$ of the minimal simplices containing
  $i^n_{n+1}\composed p^\infty_n(\xi)$ and $p^\infty_{n+1}(\xi)$ respectively,
  \begin{align*}
    \dist(x_1, x_2) \leq C.
  \end{align*}
\end{lemma}

\begin{proof}
  By \cref{lem:close_projections} the distances $\newdist(p^\infty_n(\xi),
  p^\infty_{n+1}(\xi))$ are bounded by $6\delta + 3 + 2D$. Let $y$ be a vertex
  of a simplex containing $p^\infty_n(\xi)$; then $\newdist(y, p^\infty_n(\xi))$
  is bounded by $D$.
  
  Furthermore, $\dist(y, i^n_{n+1}(y))$ is uniformly bounded by the constant
  $\epsilon$ from \cref{prop:ddag_implies_i}, and $\newdist(i^n_{n+1}(y),
  i^n_{n+1}\composed p^\infty_n (\xi))$ is bounded by the product of $D$ and
  the constant $k$ appearing in \cref{prop:ddag_implies_i}. By putting all this
  together we obtain a bound $C$ on $\newdist(i^n_{n+1}\composed
  p^\infty_n(\xi), p^\infty_{n+1}(\xi))$, and then $\dist(x_1, x_2) \leq C +
  2D$.
\end{proof}

\begin{proposition}\label{prop:uniform_homotopies}
  There exists a number $m_0$ and a function $\nu\from\posreals\to\posreals$ such
  that $\nu(\eta)\to0$ as $\eta\to0$ with the following property. Let
  $\gamma\from\boundary\Delta^{d+1}\to\boundary G$ be a continuous map. Let $n
  \geq m_0$ and let $f$ be an affine approximation to
  $p^\infty_n\composed\gamma$. Then there is a homotopy $h$ from $\gamma$ to
  $i^n_\infty\composed f$ such that for any $x \in \boundary\Delta^{d+1}$ and
  any $s$ and $t$ in $[0,1]$,
  \begin{align*}
    \rho(h(x,s), h(x,t)) \leq \nu(\abs{s-t}) a^{-n}.
  \end{align*}
\end{proposition}

\begin{proof}
  Let $C$ be as in \cref{lem:name_this} and apply \cref{prop:basic_homotopies}
  to obtain a number $m_0\geq n_0$ and a function $\mu$. 
  
  Let $\gamma\from\boundary\Delta^{d+1}\to\boundary G$, $n\geq m_0$ and
  $f\from\boundary\Delta^{d+1}\to K_n$ be as in the proposition. Let $f_0 = f$,
  and for $m > 0$ let $f_m\from\boundary\Delta^{d+1}\to K_{n+m}$ be a
  simplicial approximation to $p^\infty_{n+m}\composed\gamma$. For $m \geq 0$
  let $\gamma_m = i^{m+n}_\infty\composed f_m$. For each $m\geq 0$ the
  following observations are immediate:
  \begin{enumerate}
    \item the map $f_m$ admits a factoring;
    \item the image of $f_m$ is contained in the $d$-skeleton of $K_{n+m}$, and
      so $i^{n+m}_{n+m+1}\composed f_m$ admits a factoring;
    \item by \cref{lem:name_this} we have $\newdist(i^{n+m}_{n+m+1}\composed
      f_m(x), f_{m+1}(x)) \leq C$ for all $x \in \boundary\Delta^{d+1}$.
  \end{enumerate}
  Therefore, for each $m$, \cref{prop:basic_homotopies} gives a homotopy $h_m$
  from $i^{n+m+1}_\infty\composed f_{m+1}$ to $i^{n+m}_\infty \composed f_m$
  satisfying a uniform continuity condition. Define an infinite concatenation
  of these homotopies:
  \begin{align*}
    h(x,t) = 
    \begin{cases}
      \gamma(x) & \text{if } t = 0\\
      h_n\left(x,2^{m+1}\left(t-\frac{1}{2^{m+1}}\right)\right) 
              & \text{if $t \in \left[\frac{1}{2^{m+1}}, \frac{1}{2^m}\right]$
                    , $m\geq 0$}.
    \end{cases}
  \end{align*}
  This function is clearly continuous except possibly on
  $\boundary\Delta^{d+1}\times\{0\}$. We aim to show it is also continuous
  there, but first we define the function $\nu$. 

  Let $m \in \naturals$. We aim to bound the distance $\rho(h(x,s), h(x,t))$
  for $\abs{s,t} \leq 2^{-m}$ independently of $n$ and the particular path
  $\gamma$. We first treat the case when one of $s$ and $t$ is $0$, then we
  deal with the case when $s$ and $t$ are small, and finally we treat the case
  when $s$ and $t$ are large. (Our ``small'' and ``large'' regions intersect,
  to guarantee that this covers all possibilities.)

  To begin, we bound the distance $\rho(h(x,0), h(x,t))$
  where $x \in \boundary \Delta^{d+1}$ and $t < 2^{-m}$. Let $C'$ be the
  constant appearing in \cref{lem:convergestoidentity}. Then 
  \begin{align*}
    \rho(h(x,0), h(x,2^{-m})) \leq C'a^{-m-n}.
  \end{align*}
  Furthermore, for any $m' \in \naturals$ and any $t \in [2^{-m'-1}, 2^{-m'}]$,
  \begin{align*}
    \rho(h(x,t), h(x,2^{-m'})) \leq \mu(1)a^{-m'-n}.
  \end{align*}
  It follows that for $t \leq 2^{-m}$,
  \begin{align*}
    \rho(h(x,0), h(x,t)) \leq a^{-n}\left(C'a^{-m} + \sum_{m' \geq m}
          \mu(1)a^{-m'}\right).
  \end{align*}

  Similarly, we treat the ``small'' case. Here $s$ and $t$ are \emph{small} if
  they are at most $2^{-m/2}$. If $s$ and $t$ are both at most this large
  then
  \begin{align*}
    \rho(h(x,s), h(x,t)) \leq a^{-n} \sum_{m' \geq \floor{m/2}} \mu(1) a^{-m'}
  \end{align*}

  Finally, if $s$ and $t$ are such that $\abs{s-t} \leq 2^{-m}$ but at least
  one of $s$ and $t$ is greater than $2^{-m/2}$ then both $s$ and $t$ are at
  least $2^{-m/2}$. This is the ``large'' case. It follows that 
  \begin{align*}
    \rho(h(x,s), h(x,t)) &\leq a^{-n} \mu(\abs{s-t} 2^{m/2 + 1}) \\
                         &\leq a^{-n} \mu(2^{1-m/2})
  \end{align*}
  
  Therefore for $\eta \in (2^{-m-1}, 2^{-m}]$ we define
  \begin{align*}
    \nu(\eta)  = \max\left\{
      C'a^{-m} + \sum_{m' \geq m} \mu(1)a^{-m'},
      \sum_{m' \geq \floor{m/2}} \mu(1) a^{-m'},
      \mu(2^{1-m/2})
    \right\},
  \end{align*}
  and we see that $\nu(\eta) \to 0$ as $\eta \to 0$, and also that
  \begin{align*}
    \rho(h(x,s), h(x,t)) \leq \nu(\abs{s-t})
  \end{align*}
  for any $x \in \boundary\Delta^{d+1}$ and $s$ and $t$ in $[0,1]$.

  It remains to show that $h$ is continuous at $(x,0)$ for each $x$ in
  $\boundary\Delta^{d+1}$. Let $\epsilon > 0$ and take a neighbourhood $U$ of
  $x$ in $\boundary\Delta^{d+1}$ such that $\rho(\gamma(x), \gamma(y)) \leq
  \epsilon/2$ for $y$ in $U$. Let $\eta > 0$ be so that $\nu(\eta) <
  \epsilon/2$. Then for any $(y, t) \in U \times [0, \eta]$, $\rho(h(x,0),
  h(y,t)) < \epsilon$.
\end{proof}

\Cref{thm:ddagimpliesLCd} follows as a corollary of this proposition.

\ddagimpliesLCd*

\begin{proof}
  To begin, let $\nu$ and $m_0 \geq n_0$ be as in
  \cref{prop:uniform_homotopies}. Let $r_0 =
  k_1a^{-m_0}$, so that, by \cref{lem:projectstoasimplex},
  $p^\infty_{m_0}\composed\gamma$ has image contained in the star of a single
  vertex of $K_{m_0}$ for any map $\gamma\from\boundary\Delta^{d+1}\to\boundary
  G$ with $\Diam\image(\gamma)\leq r_0$.

  Let $\gamma\from\boundary\Delta^{d+1}\to\boundary G$ be such a map. Let 
  \begin{align*}
    m = \floor{\log_a(k_1/\Diam\image\gamma)} \geq m_0,
  \end{align*}
  so that by \cref{lem:projectstoasimplex} $p^\infty_{m}\composed\gamma$ has
  image contained in a single vertex of $K_m$. Then a constant map
  $\boundary\Delta^{d+1} \to K_m$ is a simplicial approximation to
  $p^\infty_m\composed\gamma$; applying \cref{prop:uniform_homotopies} to
  this map immediately gives a homotopy $h$ from $\gamma$ to the constant map.

  Furthermore,
  \begin{align*}
    \Diam\image h &\leq \Diam\image\gamma + \sup_{x \in\boundary\Delta^{d+1}, s,t \in [0,1]} \rho(h(x,s), h(x,t)) \\
                  &\leq \Diam\image\gamma + a^{-m} \nu(1) \\
                  &\leq (1 + a\nu(1)/k_1) \Diam\image\gamma \qedhere
  \end{align*}
\end{proof}

\section{Criteria for $\dd{d}$ and $\Sd{d}$}\label{sec:dd}

In this section we establish sufficient conditions for $\dd{d}$ and $\Sd{d}$ to 
hold. 

\subsection{A criterion for $\dd{d}$}

This section is devoted to the proof of the following theorem.

\begin{theorem}\label{thm:nocutpointimpliesdagger}
  Suppose that $\boundary G - \set\xi$ is $\C{d}$ for any $\xi \in \boundary G$. 
  Then $G$ satisfies $\dd{d+1}$.
\end{theorem}

\begin{proof}

Suppose that the conclusion of \cref{thm:nocutpointimpliesdagger} 
does not hold. Then there exists a number $k$, a sequence of affine maps 
$f_i\from\sd^k\boundary\Delta^{d+1}\to K_{n_i}$ and a sequence of continuous 
maps $\gamma_i\from\boundary\Delta^{d+1}\to\boundary G$ satisfying the following 
conditions.
\begin{enumerate}
  \item For each $i$, $(\sd^k\boundary\Delta^{d+1}, f_i, \gamma_i)_{n_i}$ is a 
    factored triple.
  \item There is no affine extension of $f_i$ to $\sd^i\Delta^{d+1}$.
  \item The sequence $n_i$ tends to infinity as $i$ tends to infinity.
\end{enumerate}

By passing to a subsequence, we may assume that the sequence $(f_i)$ has the 
following properties, where we denote by $J$ the simplicial complex 
$\sd^k\boundary\Delta^{d+1}$.
\begin{enumerate}
  \item There exist group elements $g_i$ such that $g_i(f_i(v)) = g_j(f_j(v))$ 
    for all $i$ and $j$ and for all $v \in \Vertices(J)$.
  \item Large neighbourhoods of translates by $g_i$ of the images of the vertex 
    set of $J$ under $f_i$ are identical: we have the following equality for all 
    $i$ and $j$:
    \begin{align*}
      g_i\left(N_{\min\set{i,j}}\left(f_i(\Vertices(J))\right) \intersection 
      S_{n_i}\right) = g_j\left(N_{\min\set{i,j}}\left(f_j(\Vertices(J))\right) 
      \intersection S_{n_j}\right).
    \end{align*}
  \item The restrictions of the pullbacks $g_i^\star\dist$ and 
    $g_j^\star\dist$ of the distance function to the vertex set of this 
    simplicial complex agree.
  \item The sequence $g_i = g_i\cdot 1$ of vertices of $K$ converges to a point 
    $\xi\in\boundary G$ as $i\to\infty$.
\end{enumerate}

\begin{definition}
  Let $H_i$ be the full subcomplex of $K_{n_i}$ with vertex set
  \begin{align*}
    g_i\left(N_i\left(f_i(\Vertices (J))\right)\intersection S_{n_i}\right).
  \end{align*}
  Note that $H_i$ contains $H_j$ for $i \geq j$. It will be convenient to pass 
  to a further subsequence such that for each $i$ the complex $H_{i+1}$ contains 
  all vertices of $g_i(S_{n_i})$ adjacent to $H_i$. Let $H$ be the direct
  limit of the complexes $H_i$.  We view $H$ as a horosphere, the topology of
  which approximates that of $\boundary G - \set\xi$.
  \cref{lem:geodesicsmeethorosphere}--\ref{lem:propermaps} below justify 
  this point of view.

  All of the maps $g_i \composed f_i \from J \to H$ are equal; call this map
  $f$. 
\end{definition}

\begin{lemma}\label{lem:geodesicsmeethorosphere}
  Every bi-infinite geodesic with $\xi$ in its limit set meets $H$.
\end{lemma}

\begin{proof}
  Let $\alpha$ be a bi-infinite geodesic with $\xi$ as a limit pint. Pick a
  point $w \in f(\Vertices(J))$ and let the distance $\dist(w,\alpha)$ be
  realised by a point $x \in \alpha$.

  The points $g_i$ converge to $\xi$ as $i\to\infty$, so the distances
  $\dist(x, [\xi, g_i])$ tend to infinity as $i$ tends to infinity. The
  triangle with vertices $x$, $\xi$ and $g_i$ is $\delta$-slim, so for each $i$
  there exists a point $y_i$ on $[x, g_i]$ with $\dist(y_i, \alpha) \leq
  \delta$ and $y_i\to\xi$ as $i\to\infty$.  For each $i$ let $z_i$ be a point
  on $\alpha$ with $\dist(y_i, z_i) \delta$.

  Since $\dist(g_i, x) = n_i$ for $i$ sufficiently large and $\dist(x,y_i) \to
  \infty$ as $i\to\infty$, we have the following limit.
  \begin{align*}\label{eqn:zi_closer_to_gi_than_x}
    \dist(g_i,z_i) - n_i &\leq \dist(g_i,y_i) + \delta - n_i \text{ for $i$
                                        sufficiently large} \\
                         &= - \dist(x,y_i) + \delta \\
                         &\to -\infty\text{ as $i \to \infty$} \tag{$\star$}
  \end{align*}
  Therefore, for $i$ sufficiently large, there exists a point $p_i$ on $\alpha$
  such that $z_i$ lies between $\xi$ and $p_i$ on $\alpha$ and so that
  $\dist(g_i,p_i)=n_i$. We now show that $\dist(p_i, x)$ is uniformly bounded.

  The limit~\eqref{eqn:zi_closer_to_gi_than_x}, taken together with the fact
  that $\dist(g_i, x) = \dist(g_i, p_i) = n_i$, shows that the distances
  $\dist([z_i, g_i], x)$ and $\dist([z_i, g_i], p_i)$ tend to infinity as
  $i\to\infty$.  We now divide into cases according to which of $x$ and $p_i$
  is closer to $z_i$.
  \begin{enumerate}
    \item If $x$ is between $z_i$ and $p_i$ on $\alpha$ then by considering a
      geodesic triangle with vertices $g_i$, $z_i$ and $p_i$ we see that for
      $i$ sufficiently large, $x$ is within a distance $\delta$ of a point
      $q_i$ on the geodesic from $g_i$ to $p_i$.  Therefore,
      \begin{align*}
        \dist(g_i,x)&\leq \dist(g_i,q_i)+\delta\\
                        &\leq \dist(g_i,p_i)-\dist(p_i,q_i)+\delta\\
                        &\leq \dist(g_i,p_i)-\dist(x,p_i)+2\delta.
      \end{align*}
      It follows that $\dist(x,p_i) \leq \dist(g_i,p_i)-\dist(g_i,x)+2\delta
      = 2\delta$.
    \item If $p_i$ is between $z_i$ and $x$ on $\alpha$ then by an identical 
      argument with the r\^oles of $x$ and $p_i$ reversed we can similarly 
      deduce that 
      \begin{align*}
        \dist(x,p_i)\leq\dist(g_i,x) - \dist(g_i,p_i) + 2\delta =2\delta.
      \end{align*}
  \end{enumerate}

  Either way, $\dist(w, p_i) \leq \dist(x,w) + 2\delta$. In summary, we have
  shown that for $i$ sufficiently large there is a point $p_i\in\alpha$ with
  $\dist(g_i,p_i)=n_i$ and $\dist(p_i,f(\Vertices J))$ bounded by $\dist(x,w) +
  2\delta$. Then $p_i \in H_i$ whenever $i$ is at least $\dist(x,w) + 2\delta$.
\end{proof}

\begin{lemma}\label{lem:boundedintersection}
  Let $C$ be a compact subset of $\boundary G - \set\xi$. Then the set of points 
  of intersection between $H$ and bi-infinite geodesics with one end point equal 
  to $\xi$ and the other in $C$ is bounded.
\end{lemma}

\begin{proof}
  Let $\alpha$ be any bi-infinite geodesic with $\alpha(-\infty)=\xi$ and 
  $\alpha(\infty)\in C$. Let $x \in \alpha \intersection H$. Since $C$ is
  compact, there exists a point $v \in \alpha$, between $\xi$ and $x$ on
  $\alpha$, such for that any bi-infinite geodesic $\beta$ with
  $\beta(-\infty)$ in $C$ and $\beta(\infty) = \alpha(\infty)$, $\beta$ does
  not meet the $100\delta$-neighbourhood of the sub-ray of $\alpha$ between
  $\xi$ and $v$: otherwise a limiting argument shows that $\xi$ is in $C$.

  Since $g_i \to \xi$, the distance $\dist(v, [\xi, g_i]) \to \infty$ as
  $i\to\infty$. The triangle with vertices $\xi$, $g_i$ and $x$ is
  $\delta$-slim, so the geodesic path from $g_i$ to $x$ passes within a
  distance $\delta$ of $v$ for $i$ large enough. Therefore, since $\dist(g_i,
  x) = n_i$ for $i$ large enough, the following inequality holds for all $i$
  large enough.
  \begin{align*}
    0 \leq \dist(g_i, v) + \dist(v, x) - n_i \leq 2\delta.
  \end{align*}

  Let $\alpha'$ be a bi-infinite geodesic with $\alpha'(-\infty) = \xi$ and
  $\alpha'(\infty) \in C$ and let $x' \in \alpha' \intersection H$. The ideal
  triangle with vertices $\xi$, $\alpha(\infty)$ and $\alpha'(\infty)$ is
  $\delta$-slim, so the subray of $\alpha$ between $\xi$ and $v$ is contained
  in a $\delta$-neighbourhood of $\alpha'$.  Let $v' \in \alpha'$ be a point
  with $\dist(v, v') \leq \delta$. 
  
  We split into cases according to the order of $\xi$, $v'$ and $x'$ on
  $\alpha'$.
  \begin{enumerate}
    \item
      First we suppose that $v'$ is between $x'$ and $\xi$ on $\alpha'$. Then as
      in the argument above, for $i$ sufficiently large we have the following
      inequality:
      \begin{align*}
        0 \leq \dist(g_i, v') + \dist(v', x') - n_i \leq 2\delta.
      \end{align*}
      And therefore,
      \begin{align*}
        -2\delta \leq \dist(g_i, v) + \dist(v, x') - n_i \leq 4\delta.
      \end{align*}
      Finally, putting these inequalities together,
      \begin{align*}
        \dist(v,x') \leq \dist(v,x) + 4\delta,
      \end{align*}
      and thus we can uniformly bound this distance in this case.
    \item
      Alternatively, $x'$ is between $v'$ and $\xi$ on $\alpha'$ and so (since
      the triangle with vertices $\xi$, $v$ and $v'$ is $\delta$-slim) $x'$ is
      within a distance $2\delta$ of the geodesic ray from $x$ to $\xi$. By
      considering the triangle with vertices $\xi$, $g_i$ and $x$ for $i$ large
      enough, a geodesic segment from $g_i$ to $x$ passes within a distance
      $3\delta$ of $x'$. Therefore we have the following inequality for all $i$
      sufficiently large:
      \begin{align*}
        0 \leq \dist(g_i, x') + \dist(x', x) - \dist(g_i, x) \leq 6\delta.
      \end{align*}
      Finally, for $i$ sufficiently large, $\dist(g_i, x') = \dist(g_i, x) = n_i$,
      so
      \begin{align*}
        \dist(x,x') \leq 6\delta.
      \end{align*}
  \end{enumerate}
\end{proof}

\begin{definition}
  Let $U_i \subset \boundary G$ be the (closed) preimage of $H_i$ under the map 
  $g_i \composed p^\infty_{n_i} \composed g_i^{-1} \from \boundary G \to X$.
  Denote by $q_i$ the restriction of this map to $U_i$.
\end{definition}

The following lemma is immediate from the definition of $p^\infty_i$.

\begin{lemma}\label{lem:describing_q_i}\todo{Check this}
  Let $\zeta \in \boundary G - \set\xi$ and suppose that $q_i(\zeta) \in H_i$
  is defined, so $\zeta \in U_i$, and $N_{4\delta+1} q_i(\zeta) \in H_i$. Then
  $q_i(\zeta)$ is contained in the minimal simplex of $H_i$ with vertex set
  \begin{align*}
    N_{2\delta+1} \set{\eta(n_i)\suchthat\text{$\eta$ a geodesic ray with
    $\eta(0) = g_i$ and $\eta(\infty) = \zeta$}}.
  \end{align*}\qed
\end{lemma}

\begin{lemma}
  Every compact subset of $\boundary G - \set\xi$ is contained in $U_i$ for 
  $i$ sufficiently large.
\end{lemma} 

\begin{proof}
  Suppose that a compact subset $C$ of $\boundary G - \set\xi$ is not contained
  in $U_i$ for infinitely many $i$. Then after passing to a subsequence there
  exists for each $i$ a point $\zeta_i \in C\setminus U_i$. 

  By assumption, $g_i^{-1}(H_i)$ contains the star in $K_{n_i}$ of 
  $g_i^{-1}(H_{i-1})$, so the definition of $p^\infty_{n_i}$ implies that a 
  geodesic ray $\alpha_i$ from $e$ to $g_i^{-1}(\zeta_i)$ does not pass through 
  $g_i^{-1}(H_{i-1})$. Equivalently, $g_i\composed\alpha_i$ is a geodesic from 
  $g_i$ to $\zeta_i$ that does not pass through $H_{i-1}$. 

  After reparameterising and passing to a subsequence, the geodesic rays
  $g_i\composed\alpha_i$ converge uniformly on compact subsets to a bi-infinite
  geodesic from $\xi$ to some point $\zeta \in C$.  This geodesic does not pass
  through $H$, which contradicts \cref{lem:geodesicsmeethorosphere}.
\end{proof}

\begin{lemma}\label{lem:affinehomotopic}
  For any compact subset $C\subset\boundary G - \set\xi$, there exists $i_0$ 
  such that for all $i \geq i_0$ and any $\zeta \in C$, $\newdist(q_i(\zeta),
  q_{i_0}(\zeta)) \leq 8\delta + 2$, and, in particular, $q_i\restricted{C}$
  and $q_{i_0}\restricted{C}$ are related by an affine homotopy.
\end{lemma}

\begin{proof}
  Let $B\subset H$ be a bounded set containing all points where geodesics with
  one limit point equal to $\xi$ and the other in $C$ meet $H$; this set exists
  by \cref{lem:boundedintersection}.

  Fix $\alpha$ to be some geodesic with $\alpha(-\infty)=\xi$ and
  $\alpha(\infty)\in C$ and let $x$ be a point of intersection between $\alpha$
  and $B$. Since the triangle with vertcies $x$, $g_i$ and $\xi$ is
  $\delta$-slim, and $\dist(x, [\xi, g_i]) \to \infty$ as $i\to\infty$, for
  each $i$ there exists a point $y_i$ on $[g_i, x]$ with $\dist(y_i, \alpha)
  \leq \delta$ and so that $y_i \to \xi$ as $i\to\infty$. Let $z_i \in \alpha$
  be such that $\dist(y_i, z_i)\leq\delta$.
  
  Now fix $i_0$ such that the following conditions hold for all $i\geq 
  i_0$.
  \begin{enumerate}
    \item The distance $\dist(y_i,x)$ is greater than $7\delta + \Diam B$.
    \item The set $C$ is contained in $U_i$.
  \end{enumerate}

  Let $\zeta \in C$ and let $\alpha'$ be a geodesic from $\xi$ to $\zeta$. Let 
  $x'$ be a point in the intersection of $\alpha'$ and $B$. 

  Now let $i\geq i_0$. Then by considering the ideal triangle with vertices
  $g_i$, $x$ and $x'$, and using the fact that $\dist(y_i, x) > \delta + \Diam
  B$, we deduce that there exists a point $y_i'$ on $[x', g_i]$ with
  $\dist(y_i, y_i') \leq \delta$.

  Similarly, since $\dist(z_i, x) > \delta + \Diam B$, consideration of the
  triangle with vertices $\xi$, $x$ and $x'$ reveals that there exists a point
  $z_i'$ on $\alpha'$ between $\xi$ and $x'$ with $\dist(z_i, z_i') \leq
  \delta$. Then $\dist(y_i', z_i') \leq 3\delta$.

  Since $\dist(z_i', x') > 2\delta$, the distance from $y_i'$ to the subray of
  $\alpha'$ from $x'$ to $\zeta$ is greater than $\delta$. Therefore by
  considering a triangle with vertices $g_i$, $x'$ and $\zeta$ we see that
  there exists a point $v_i$ on a geodesic ray $\eta_i$ from $g_i$ to $\zeta$
  with $\dist(v_i, y_i') \leq \delta$. It follows that $\dist(v_i, z_i') \leq
  4\delta$, and we know that $\dist(x', z_i') > 5\delta$, so $\dist(x', [z_i',
  v_i]) > \delta$ and therefore $\dist(x', \eta_i) \leq \delta$.

  In summary, any geodesic ray from $g_i$ to $\zeta$ passes within a distance 
  $\delta$ of $x'$, for $i\geq i_0$. Furthermore, $\dist(g_i,x') = n_i$, so 
  $\dist(\eta_i(n_i), x')\leq 2\delta$. It follows from the description of
  $q_i$ in \cref{lem:describing_q_i} that $q_i(\zeta)$ is contained in a
  simplex with all vertices within a distance $4\delta+1$ of $x'$. The set of
  all such vertices spans a simplex, so, in particular, $q_i\restricted{C}$ and
  $q_{i_0}\restricted{C}$ are related by an affine homotopy for $i \geq i_0$. 
\end{proof}

\begin{lemma}\label{lem:propermaps} 
  For any compact subset $C \subset H$ there exists $i_0$ such that
  \begin{align*}
    \bigunion_{i\geq i_0} q_i^{-1} C
  \end{align*}
  is a relatively compact subset of $\boundary G - \set\xi$.
\end{lemma}

\begin{proof}
  If not then there exists a sequence $\zeta_i$ of points with $\zeta_i \in U_i$ 
  for all $i$ such that $q_i(\zeta_i) \in C$ for all $i$ and $\zeta_i \to \xi$ 
  as $i \to \infty$.

  Then for each $i$ a geodesic from $g_i$ to $\zeta_i$ passes through the star 
  in $H$ of $C$.  After passing to a subsequence these geodesic rays converge to 
  a bi-infinite geodesic passing through the star in $H$ of $C$, both end points 
  of which must be $\xi$, which is a contradiction.
\end{proof}

Since $f$ is related by an affine homotopy to $q_i\composed g_i\composed
\gamma_i$ for every $i$, for each $i$ the image of $g_i\composed\gamma_i$ is
contained in $q_i^{-1} H_1$. By \cref{lem:propermaps} there exists $i_0$ and a
compact subset $C_0 \subset \boundary G - \set\xi$ such that the image of
$g_i\composed\gamma_i$ is contained in $C_0$ for $i\geq i_0$. By
\cref{lem:affinehomotopic} we can choose $i_1 \geq i_0$ such that
$q_i\restricted{C_0}$ is affine homotopic to $q_{i_1}\restricted{C_0}$ for
$i\geq i_1$. 

Let $\gamma = g_{i_1}\composed\gamma_{i_1}$ and let $h \from
\Delta^{d+1}\to\boundary G - \set\xi$ be a continuous extension of $\gamma$;
this exists since $\boundary G - \set\xi$ is $\C{d}$. Let $C_1 \supset C_0$ be
a compact subset of $\boundary G - \set\xi$ containing the image of $h$ and let
$i_2 \geq i_1$ be chosen so that $C_1 \subset U_{i_2}$.

Then $q_{i_2}\composed h$ has image in $H_{i_2}$. Furthermore,
$q_{i_2}\composed h\restricted{\boundary\Delta^{d+1}} = q_{i_2}\composed
\gamma$ is related by an affine homotopy in $H_{i_2}$ to
$q_{i_1}\composed\gamma$, which is related by an affine homotopy to the affine
map $f$. Therefore $f$ is null-homotopic in $H_{i_2}$, and so by the Relative
Simplicial Approximation theorem~\cite{zeeman64} there is a number $k'$ and an
affine extension $h'\from\sd^{k'}\to H_{i_2}$ of $f$.

Then, for $i \geq i_2$ the map $g_i^{-1}\composed
h'\from\sd^{k'}\Delta^{d+1}\to K_{n_i}$ is an affine extension of $f_i$, which
contradicts the choice of maps $f_i$ if $i > k'$.

This completes the proof of \cref{thm:nocutpointimpliesdagger}.
\end{proof}

\subsection{Strengthening the condition: $\Sd{d}$}

We now strengthen the conclusion of \cref{thm:nocutpointimpliesdagger} 
under the assumption that $\boundary G$ is $\lLC{d}$:

\begin{theorem}\label{thm:lLCandnocutpointimpliesS}
  Suppose that $\boundary G - \set\xi$ is $\C{d}$ for any $\xi \in \boundary G$ 
  and that $\boundary G$ is $\lLC{d}$. Then $G$ satisfies $\Sd{d+1}$.
\end{theorem}

\begin{proof}

does not hold, and therefore there exists a number $k$, a sequence of affine 
maps $f_i\from \sd^k\boundary\Delta^{d+1}\to K_{n_i}$ and a sequence of 
continuous maps $\gamma_i\from \boundary\Delta^{d+1}\to\boundary G$ satisfying 
the following (modified) conditions.
\begin{enumerate}
  \item For each $i$, $(\sd^k\boundary\Delta^{d+1},\gamma_i,f_i)_{n_i}$ if a 
    factored triple.
  \item There is no pair $(F_i, \Gamma_i)$ where $F_i$ is an affine extension of 
    $f_i$ to $\sd^i\Delta^{d+1}$, $\Gamma_i$ is a continuous extension of 
    $\gamma_i$ to $\Delta^{d+1}$, and 
    $(\sd^i\boundary\Delta^{d+1},\Gamma_i,F_i)_{n_i}$ is a factored triple.
  \item The sequence $n_i$ tends to infinity as $i$ tends to infinity.
\end{enumerate}

As in the proof of \cref{thm:nocutpointimpliesdagger} we pass to a 
subsequence and define complexes $H_i$ and $H$, subsets $U_i = (g_i\composed 
p^\infty_{n_i}\composed g_i^{-1})^{-1} H_i\subset \boundary G 
- \set\xi$ and maps $q_i = g_i\composed p^\infty_{n_i}\composed 
g_i^{-1}\restricted{U_i}\from U_i\to H_i$. Then 
\cref{lem:geodesicsmeethorosphere}--\ref{lem:propermaps} apply to these maps
and spaces as in \cref{thm:nocutpointimpliesdagger} without modification.

It is now sufficient to prove the following claim.

\begin{claim} 
  There is a number $k$ such that, for infinitely many $i$, there is an 
  extension of $\gamma_i$ to $\sd^k\Delta^{d+1}$ whose composition with 
  $p^\infty_{n_i}$ is affine.
\end{claim}

Let $C_0$ be a compact subset of $\boundary G - \set\xi$ and $i_0$ be an
integer such that $g_i\composed\gamma_i$ is contained in $C_0$ for $i\geq i_0$
and $q_i\restricted{C_0}$ is affine homotopic to $q_j\restricted{C_0}$ for
$i\geq j\geq i_0$. 

\begin{lemma}
  There exists $i_1\geq i_0$ and a number $P$ such that for $i\geq j\geq i_1$ 
  the maps $g_i\composed \gamma_i$ and $g_j\composed\gamma_j$ are joined by a 
  homotopy $h_{i,j}$ such that the image of $h_{i,j}$ is contained in $U_{i_1}$ 
  and  $q_i\composed h_{i,j}$ is a concatenation of at most $P$ affine 
  homotopies.
\end{lemma}

\begin{proof} 
  Let $i\geq j\geq i_0$. Each of $q_i\composed g_i\composed\gamma_i$ and
  $q_j\composed g_j\composed\gamma_j$ is affine homotopic to $f$, and
  $q_j\composed g_j\composed\gamma_j$ is affine homotopic to $q_i\composed
  g_j\composed\gamma_j$, so the distance between $q_i\composed
  g_i\composed\gamma_i$ and $q_i\composed g_j\composed\gamma_j$ is uniformly
  bounded. Therefore the distance between $p^\infty_{n_i}\composed
  g_i^{-1}\composed g_j\composed\gamma_j$ and $p^\infty_{n_i}\composed \gamma_i$ is
  uniformly bounded, so the distance between $g_i^{-1}\composed
  g_j\composed\gamma_j$ and $\gamma_i$ is bounded above by a constant multiple
  of $a^{-i}$. By 
  %\cref{lem:shorthomotopy}, if $i$ is large enough then there
  exists a homotopy $h'_{i,j}$ between these maps with width also bounded above
  by a constant multiple of $a^{-i}$. 

  Therefore the width of $p^\infty_{n_i}\composed h'_{i,j}$ is uniformly bounded. 
  It follows that it is the concatenation of boundedly many affine homotopies. 
  For $i$ sufficiently large, $p^\infty_j\composed h'_{i,j}$ has image contained 
  in $H_i$. Define $h_{i,j} = g_i\composed h'_{i,j}$; then $h_{i,j}$ is a 
  homotopy from $g_i\composed\gamma_i$ to $g_i\composed\gamma_j$ such that 
  $q_j\composed h_{i,j}$ is a concatenation of boundedly many affine homotopies.
\end{proof}

Let $C_2$ be a compact subset of $\boundary G - \set\xi$ containing $U_{i_1}$ and 
also containing the image of a continuous extension 
$\Gamma\from\Delta^{d+1}\to\boundary G - \set\xi$ of $\gamma$. Take $i_2\geq 
i_1$ such that $C_2 \subset U_2$ and also so that $q_i\restricted{C_2}$ is 
affine homotopic to $q_j\restricted{C_2}$ for $i \geq j \geq i_2$.

Now, $q_{i_2}\composed \Gamma$ is affine homotopic to an affine 
map after some finite number of subdivisions. Since $q_i$ is affine homotopic to 
$q_{i_2}$ for $i\geq i_2$ it follows that for any $i\geq i_2$ the map 
$q_i\composed \Gamma$ is affine homotopic to an affine map after boundedly many 
subdivisions. Furthermore, for $i\geq i_2$, $h_{i,i_1}$ is a 
homotopy from $g_i\composed \gamma_i$ to $\gamma$, the composition of which with 
$q_i$ is affine homotopic to an affine map after boundedly many subdivisions. 
Therefore, for each $i\geq i_2$ there is a null-homotopy of 
$g_i\composed\gamma_i$ whose composition with $q_i$ is affine homotopic to an 
affine map after boundedly many subdivisions. The composition of this extension 
with $g_i^{-1}$ gives the required extension of $\gamma_i$ to $\Delta^{d+1}$.
\end{proof} 

\section{The main theorem}\label{sec:assembling}

The results of the previous two sections may now be assembled to prove the main 
theorem:

\begin{theorem}\label{thm:maintheorem}
  Let $G$ be a hyperbolic group. Then $\boundary G$ is $\LC{d}$ if and only if 
  $\boundary G - \set\xi$ is $\C{d}$ for every point $\xi \in \boundary G$.
\end{theorem}

\begin{proof}
  We first prove that if $\boundary G - \set\xi$ is $\C{d}$ for every point $\xi 
  \in \boundary G$ then $\boundary G$ is $\LC{d}$ by induction. Suppose this 
  condition holds and also that $\boundary G$ is $\LC{d-1}$. Then 
  \cref{thm:lLCandnocutpointimpliesS} implies that $\Sd{d}$ is 
  satisfied, while \cref{thm:nocutpointimpliesdagger} implies that 
  $\dd{d+1}$ is satisfied, and so $\boundary G$ is $\LC{d}$ by 
  \cref{thm:ddagimpliesLCd}.

  Conversely, suppose that $\boundary G$ is $\LC{d}$ and let $\xi \in \boundary 
  G$; we aim to show that $\boundary G - \set\xi$ is $\C{d}$. Let $\gamma$ be a 
  continuous map $S^d \to \boundary G - \set\xi$ The point $\xi$ is a conical 
  limit point, so there exist distinct points $\zeta_1$ and $\zeta_2$ in 
  $\boundary G$ and a sequence of elements $(g_i)$ in $G$ such that $g_i\xi \to 
  \zeta_1$ as $i\to \infty$, and for any compact subset $C$ of $\boundary G - 
  \set\xi$ and any neighbourhood $U$ of $\zeta_2$, $g_i(C) \subset U$ for $i$ 
  sufficiently large.

  Let $V$ be a neighbourhood of $\zeta_2$ that does not contain any point 
  $g_i\xi$.  Let $U$ be a neighbourhood of $\zeta_2$ such that any map $S^d \to 
  U$ has an extension to the disk $D^{d+1}$ with image contained in $V$. Then 
  let $i$ be such that $g_i(\image\gamma)\subset U$. Let $h$ be an extension of 
  $\gamma$ to $D^{d+1}$ with image contained in $V$; then $g_i^{-1}\composed h$ 
  is a continuous extension of $\gamma$ with image contained in $\boundary G - 
  \set\xi$.
\end{proof}

\begin{corollary}
  Let $G$ be a hyperbolic group. Then the following conditions are equivalent.
  \begin{enumerate}
    \item\label{item:LCd} The boundary $\boundary G$ is $\LC{d}$.
    \item\label{item:Cd} For all points $\xi \in \boundary G$, $\boundary G - 
      \set\xi$ is $\C{d}$.
    \item\label{item:dd} The condition $\dd{d+1}$ is satisfied.
    \item\label{item:Sd} The condition $\Sd{d+1}$ is satisfied.
  \end{enumerate}
\end{corollary}

\begin{proof}
 The equivalence of conditions~\ref{item:LCd} and~\ref{item:Cd} is the content 
 of \cref{thm:maintheorem}.
 \todo{finish this}
\end{proof}

\subsection{Questions}

\begin{question}
  Suppose that $G$ is a hyperbolic group and $d\geq 1$ such that $\boundary G$ 
  is $\C{d}$.  Does it follow that $\boundary G - \set\xi$ is $\C{d}$ for every 
  $\xi$ in $\boundary G$, and therefore that $\boundary G$ is $\LC{d}$?
\end{question}

For $d = 0$ this question was originally asked by Bestvina and 
Mess~\cite{bestvinamess91} and answered in the affirmative by work of 
Bowditch~\cite{bowditch98b} and Swarup~\cite{swarup96}. The techniques of
Bowditch and Swarup are not applicable for $d\geq 1$, and new methods would be
required. On the other hand, there is no example in the literature of a group
that provides a negative answer to the question.

\begin{question}
  Conversely, suppose that $\boundary G - \set\xi$ is $\C{d}$ for every 
  $\xi\in\boundary G$, and therefore $\boundary G$ is $\LC{d}$. Is it true that 
  $\boundary G$ is either $\C{d}$ or homeomorphic to $S^d$?
\end{question}

\section{Locally contractible boundaries}

In this section we investigate the implications of local contractibility for
the boundary of a hyperbolic group. (Recall that a space is locally
contractible if any neighbourhood $U$ of any point admits a sub-neighbourhood
$V$ such that the inclusion $V\into U$ is null-homotopic in $U$.) This condition
is related to the conditions $\LC{n}$ investigated earlier in this paper by the
following well-known proposition.

\begin{proposition}%Mentioned in the Dugundji paper. Cited to Kuratowski's
  %Topologie II, chapter VII
  Let $X$ be a separable metric space of topological dimension $n$. If $X$ is
  $\LC{n}$ then it is locally contractible.
\end{proposition}

To begin, note the following lemma.

\begin{lemma}
  If $\boundary G$ is locally contractible then $\homology_\star(\boundary G;
  \integers)$ and $\homology^\star(\boundary G; \integers)$ are finitely
  generated.
\end{lemma}

\begin{proof}
  Take an finite cover of $\boundary G$ by contractible open subsets
  $\{U_i\}_{i \leq n}$. Let $K$ be the nerve of the covering. Then there is a
  spectral sequence with 
  \begin{align}
    E^1_{pq} = \bigoplus_\sigma\in\Skel^{p} K H_q(X_\sigma),
  \end{align}
  where $X_\sigma = \intersection_{i \in \sigma} X_i$, such that
  $E_{pq}\ssconverges \homology_{p+q}(X)$. The simplicial complex $K$ is finite
  and each group $H_q(X_\sigma)$
  \todo{Finish proving this lemma.}
\end{proof}

\bibliography{references}
\end{document}

